stackoverflow.py

import requests
from bs4 import BeautifulSoup


stackoverflow_URL = f"https://stackoverflow.com/jobs?q=python"



def get_last_page():
  result = requests.get(stackoverflow_URL)
  soup=BeautifulSoup(result.text,"html.parser")

  pagination = soup.find("div", {"class":"s-pagination"})
  pages=pagination.find_all("a")
  last_pages=pages[-2].get_text(strip=True)
  return int(last_pages)


def extract_job(html):        <---------- 일자리만 따로 뺄라고 다시 정의했고

.
.
.



def extract_jobs(last_pages):
  jobs = []
  for page in range(last_pages):
    result=requests.get(f"{stackoverflow_URL}&pg={page+1}")
    soup=BeautifulSoup(result.text,"html.parser")
    results=soup.find_all("div", {"class":"-job"})
    for result in results:
      job = extract_jobs(result)            <--------- 여기
      job.append(job)                       <--------- 여기
  return jobs                               <--------- 여기 수정함


def get_jobs():
  last_pages = get_last_page()
  jobs=extract_jobs(last_pages)
  return jobs 
